(this["webpackJsonpneu-board"]=this["webpackJsonpneu-board"]||[]).push([[0],{147:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},243:function(e,t,a){},249:function(e,t,a){},399:function(e,t,a){},400:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var s=a(9),n=a(1),i=a(29),o=a.n(i),l=(a(235),a(236),a(147),a(237),a(6)),r=a(30),c=a(53),d=a.n(c),h=a(24),u=a.p+"static/media/post.b0cca562.svg",j=a(2),m=Object(h.b)((function(e){return{avatar:e.avatar}}))((function(e){var t=Object(l.f)();return Object(j.jsxs)("div",{className:"signed-in-scaffold navlinks",children:[Object(j.jsx)("div",{className:"neulink navtext",children:"/"===t.pathname&&e.avatar.isPlaceholder?Object(j.jsx)(r.b,{to:"/add",children:Object(j.jsx)("img",{id:"post-message",src:u,alt:""})}):null}),e.avatar.isPlaceholder?null:Object(j.jsx)(r.b,{to:"/"===t.pathname?"/add":"/",children:Object(j.jsx)(d.a,Object(s.a)(Object(s.a)({className:"avatar-link",style:{width:"50px",height:"50px"}},e.avatar),{},{bgColor:"transparent"}))})]})})),b=function(){return Object(j.jsx)("div",{className:"nav-scaffold",children:Object(j.jsxs)("div",{className:"nav-container",children:[Object(j.jsx)("div",{className:"logo",children:Object(j.jsxs)(r.b,{to:"/",children:[Object(j.jsx)("span",{className:"logo-neu",children:"neu"}),Object(j.jsx)("span",{className:"logo-board",children:"board"})]})}),Object(j.jsx)("div",{className:"nav-links",children:Object(j.jsx)(m,{})})]})})},p=a(220),g=a.n(p),O=(a(243),a(229)),f=(a(244),function(e){var t,a=e.message,n=a.user,i=a.avatar,o=a.message,l=a.date,r=a.media;return Object(j.jsxs)("div",{className:"post",children:[Object(j.jsx)("div",{className:"post-line"}),Object(j.jsx)(d.a,Object(s.a)(Object(s.a)({style:{width:"90px",height:"90px",minWidth:"90px",minHeight:"90px",marginLeft:"10px"}},i),{},{bgColor:"transparent"})),Object(j.jsxs)("div",{className:"post-content",children:[Object(j.jsx)("div",{className:"post-title no-select",children:Object(j.jsx)("p",{children:n})}),Object(j.jsx)("div",{className:"post-message user-selectable",children:o}),(t=r,!t||t.length<=0||""===t.trim()?null:Object(j.jsx)("div",{className:"post-media",children:Object(j.jsx)(O.a,{children:Object(j.jsx)("img",{src:r,alt:"Link broken :/"})})})),Object(j.jsx)("div",{className:"post-time",children:Object(j.jsxs)("p",{children:["-",g()(l).calendar()]})})]})]})}),v=(a(249),a(41)),x=a(40),y=a(25),S=Date.now(),C=Object(v.c)(Object(h.b)((function(e){return{messages:e.firestore.ordered.messages}})),Object(x.firestoreConnect)((function(){return[{collection:"messages",orderBy:["date","desc"]}]})))((function(e){var t,a=e.messages;return a&&a.length>0&&(t=a[0]).date>S&&localStorage.getItem("username")!==t.user&&(console.log("NEW POST"),console.log(t),y.b.info("New message from ".concat(t.user,"!")),S=Date.now()),Object(j.jsxs)("div",{className:"dashboard-scaffold",children:[Object(j.jsx)("div",{className:"dashboard-posts hide-scrollbar",children:Object(j.jsx)("div",{className:"dashboard",children:a&&a.map((function(e,t){return Object(j.jsx)(f,{message:e},t)}))})}),Object(j.jsxs)("div",{className:"dashboard-welcome no-select",children:[Object(j.jsx)("p",{id:"text-welcome",children:"welcome to neuboard!"}),Object(j.jsx)("p",{id:"text-whatisthis",children:"Post a message, meme or a random thought."}),Object(j.jsx)("p",{id:"text-madewith",children:"Made with \ud83d\udc9c using React and Firebase"})]})]})})),k=a(54),N=a(55),P=a(57),F=a(56),A=(a(399),a(228)),w=a(31),I=(a(400),a.p+"static/media/color-palette.f4f249bb.svg"),V=a(223);function T(e){var t=e.stateValue,a=e.id,s=e.name;return Object(j.jsx)("p",{id:a,className:"opt ".concat(t===a?"active":""),children:s})}var R=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"color-picker",children:[Object(j.jsx)("p",{className:"field",children:e.title}),void 0!==e.pickerID?Object(j.jsxs)("div",{className:"colorPanelWrapper",children:[Object(j.jsx)("img",{src:I,alt:"Custom Color",className:"icon-palette",id:e.pickerID,onClick:e.onPickerClick}),e.pickerType?Object(j.jsx)(V.a,{className:"colorPanel",color:e.colorValue,onChange:e.onColorChange}):null]}):null]}),Object(j.jsx)("div",{className:"opts",id:e.id,onClick:e.onClick,children:e.styleOpts.map((function(t,a){return Object(j.jsx)(T,{id:t,name:(s=void 0!==e.optsObj?e.optsObj[t]:t,s&&s[0].toUpperCase()+s.slice(1)),stateValue:e.stateValue},a);var s}))})]})},E=function(e){Object(P.a)(a,e);var t=Object(F.a)(a);function a(e){var s;return Object(k.a)(this,a),(s=t.call(this,e)).handleClick=function(e){var t=[e.target.id,e.currentTarget.id],a=t[0],n=t[1];a!==n&&s.updateAvatarinState(Object(w.a)({},n,a))},s.capitalize=function(e){return e&&e[0].toUpperCase()+e.slice(1)},s.randomVal=function(e){return e[Math.floor(Math.random()*e.length)]},s.onChangeColor=function(e,t){this.updateAvatarinState(Object(w.a)({},e,t))},s.toggleColorPicker=function(e){var t=e.target.id;s.setState(Object(w.a)({},t,!s.state[t]),(function(){return console.log(s.state)}))},s.closeColorPicker=function(e){(s.state.openHairColorPicker||s.state.openShirtColorPicker||s.state.openFaceColorPicker)&&("click"!==e.type||e.target.className.includes("react-colorful")||(console.log("closing all color pickers"),s.setState({openHairColorPicker:!1,openShirtColorPicker:!1,openFaceColorPicker:!1})))},s.handleBlur=function(e){console.log("blur")},s.randomVal=function(e){return e[Math.floor(Math.random()*e.length)]},s.randomColor=function(){return"#000000".replace(/0/g,(function(){return(~~(16*Math.random())).toString(16)}))},s.generateRandomAvatar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";s.state.showRandomStylesTooltip&&"init"!==e&&s.setState({showRandomStylesTooltip:!1}),console.log(s.randomVal(s.styleOpts.faceColor)),s.updateAvatarinState({isPlaceholder:!1,sex:s.randomVal(s.styleOpts.sex),faceColor:s.randomVal(Object.keys(s.styleOpts.faceColor)),earSize:s.randomVal(s.styleOpts.earSize),hairColor:s.randomColor(),hairStyle:s.randomVal(Object.keys(s.styleOpts.hairStyle)),eyeStyle:s.randomVal(s.styleOpts.eyeStyle),glassesStyle:s.randomVal(s.styleOpts.glassesStyle),noseStyle:s.randomVal(s.styleOpts.noseStyle),mouthStyle:s.randomVal(s.styleOpts.mouthStyle),shirtStyle:s.randomVal(s.styleOpts.shirtStyle),shirtColor:s.randomColor()})},s.state={openHairColorPicker:!1,openShirtColorPicker:!1,openFaceColorPicker:!1,showRandomStylesTooltip:!0},s.styleOpts={sex:["man","woman"],faceColor:{"#F9C9B6":"Light","#de937d":"Brown","#AC6651":"Dark"},earSize:["small","big"],hairStyle:{normal:"Normal",thick:"Thick",mohawk:"Mohowk",womanLong:"Long",womanShort:"Short"},eyeStyle:["circle","oval","smile"],glassesStyle:["none","round","square"],noseStyle:["short","long","round"],mouthStyle:["laugh","smile","peace"],shirtStyle:["hoody","short","polo"]},s}return Object(N.a)(a,[{key:"updateAvatarinState",value:function(e){this.props.updateAvatarAction(e)}},{key:"Option",value:function(e){var t=e.stateValue,a=e.id,s=e.name;return Object(j.jsx)("p",{id:a,className:"opt ".concat(t===a?"active":""),children:s})}},{key:"componentDidMount",value:function(){!0===this.props.avatar.isPlaceholder&&this.generateRandomAvatar("init")}},{key:"render",value:function(){for(var e={},t=0,a=Object.entries(this.props.avatar);t<a.length;t++){var n=Object(A.a)(a[t],2),i=n[0],o=n[1];e[i]=o}var l=this.state,r=l.openHairColorPicker,c=l.openShirtColorPicker,h=l.openFaceColorPicker,u=l.showRandomStylesTooltip;return Object(j.jsx)("div",{className:"custom-avatar-scaffold",children:Object(j.jsxs)("div",{className:"custom-avatar-container no-select",children:[u?Object(j.jsx)("p",{style:{textAlign:"center",fontSize:"13px"},children:"Click avatar to generate random styles"}):null,Object(j.jsx)("div",{className:"avatar",onClick:this.generateRandomAvatar,children:Object(j.jsx)(d.a,Object(s.a)(Object(s.a)({style:{width:"8rem",height:"8rem"}},e),{},{bgColor:"transparent"}))}),Object(j.jsxs)("div",{className:"info",onClick:this.closeColorPicker,children:[Object(j.jsx)(R,{title:"FACE",id:"faceColor",styleOpts:Object.keys(this.styleOpts.faceColor),optsObj:this.styleOpts.faceColor,stateValue:e.faceColor,onClick:this.handleClick,pickerID:"openFaceColorPicker",onPickerClick:this.toggleColorPicker,pickerType:h,colorValue:e.faceColor,onColorChange:this.onChangeColor.bind(this,"faceColor")}),Object(j.jsx)(R,{title:"HAIR",id:"hairStyle",styleOpts:Object.keys(this.styleOpts.hairStyle),optsObj:this.styleOpts.hairStyle,stateValue:e.hairStyle,onClick:this.handleClick,pickerID:"openHairColorPicker",onPickerClick:this.toggleColorPicker,pickerType:r,colorValue:e.hairColor,onColorChange:this.onChangeColor.bind(this,"hairColor")}),Object(j.jsx)(R,{title:"EYES",id:"eyeStyle",styleOpts:this.styleOpts.eyeStyle,stateValue:e.eyeStyle,onClick:this.handleClick}),Object(j.jsx)(R,{title:"GLASSES",id:"glassesStyle",styleOpts:this.styleOpts.glassesStyle,stateValue:e.glassesStyle,onClick:this.handleClick}),Object(j.jsx)(R,{title:"EAR",id:"earSize",styleOpts:this.styleOpts.earSize,stateValue:e.earSize,onClick:this.handleClick}),Object(j.jsx)(R,{title:"NOSE",id:"noseStyle",styleOpts:this.styleOpts.noseStyle,stateValue:e.noseStyle,onClick:this.handleClick}),Object(j.jsx)(R,{title:"MOUTH",id:"mouthStyle",styleOpts:this.styleOpts.mouthStyle,stateValue:e.mouthStyle,onClick:this.handleClick}),Object(j.jsx)(R,{title:"SHIRT",id:"shirtStyle",styleOpts:this.styleOpts.shirtStyle,stateValue:e.shirtStyle,onClick:this.handleClick,pickerID:"openShirtColorPicker",onPickerClick:this.toggleColorPicker,pickerType:c,colorValue:e.shirtColor,onColorChange:this.onChangeColor.bind(this,"shirtColor")})]})]})})}}]),a}(n.Component),D=Object(h.b)((function(e){return console.log(e),{avatar:e.avatar}}),(function(e){return{updateAvatarAction:function(t){return e(function(e){return function(t,a){t({type:"UPDATE_AVATAR",avatarStyle:e})}}(t))}}}))(E),M=a(146),B=a.n(M),G=a(224);a(402),a(403);var L=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{id:"trigger",onClick:e.onClick,className:e.infoFilled?"animate-submit":"disable-submit",type:"checkbox",hidden:!0}),Object(j.jsx)("label",{className:"trigger",title:e.infoFilled?"":"Fill the required info",htmlFor:"trigger",children:"Submit"}),Object(j.jsxs)("div",{className:"dots",children:[Object(j.jsx)("div",{className:"dot"}),Object(j.jsx)("div",{className:"dot"}),Object(j.jsx)("div",{className:"dot"})]})]})},z=a(227),U=a.p+"static/media/gif.eca28f8d.svg",H=a.p+"static/media/gif-clicked.e11b0607.svg",_=function(e){Object(P.a)(a,e);var t=Object(F.a)(a);function a(e){var s;return Object(k.a)(this,a),(s=t.call(this,e)).handleSubmitState=function(){var e=s.state,t=e.name,a=e.message,n=e.infoFilled;s.isBlank(t)||s.isBlank(a)||n?(s.isBlank(t)||s.isBlank(a))&&n&&s.setState({infoFilled:!1}):s.setState({infoFilled:!0})},s.submitDataToFireStore=function(){var e=s.state,t=e.name,a=e.message,n=e.media;s.props.uploadMessageAction({user:t,message:a,media:n,avatar:s.props.avatar,approved:!1,date:Date.now()}),console.log("message sent"),s.setState({infoFilled:!1,message:"",media:""}),localStorage.setItem("username",t)},s.handleSubmit=Object(G.a)(B.a.mark((function e(){var t,a,n,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.state,a=t.media,n=t.infoFilled,s.setState({infoFilled:!1}),n&&(y.b.info("Message is being submitted",{autoClose:2500}),s.isBlank(a)?s.submitDataToFireStore():((i=new Image).onload=function(){i.width>0&&(console.log("image exists"),s.submitDataToFireStore())},i.onerror=function(){console.log("image doesn't exist"),y.b.error("Please post a valid media link",{autoClose:6e3}),s.setState({media:""}),s.handleSubmitState()},i.src=a));case 3:case"end":return e.stop()}}),e)}))),s.handleGIFSelect=function(e){console.log(e),s.setState({media:e.images.fixed_height.url})},s.handleGIFBlur=function(){console.log("blurred"),setTimeout((function(){return s.setState({gifToggle:!1})}),1100)},s.handleGIFToggle=function(){s.setState({gifToggle:!s.state.gifToggle})},s.state={name:"",message:"",media:"",infoFilled:!1,gifToggle:!1},s}return Object(N.a)(a,[{key:"isBlank",value:function(e){return!e||e.length<=0||""===e.trim()}},{key:"handleInput",value:function(e,t){var a=this;this.setState(Object(w.a)({},e,t.target.value),(function(){return a.handleSubmitState()}))}},{key:"componentDidMount",value:function(){localStorage.getItem("username")&&this.setState({name:localStorage.getItem("username")})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.message,s=e.media,n=e.infoFilled,i=e.gifToggle;return Object(j.jsx)("div",{className:"name-message-scaffold",children:Object(j.jsxs)("div",{className:"name-message-container",children:[Object(j.jsxs)("label",{htmlFor:"input-name",children:[" ",Object(j.jsx)("span",{children:"Name"}),Object(j.jsx)("span",{children:"*"})]}),Object(j.jsx)("input",{type:"text",value:t,maxLength:"30",id:"input-name",className:"form-input user-selectable",onChange:this.handleInput.bind(this,"name")}),Object(j.jsxs)("label",{htmlFor:"input-media",children:[" ",Object(j.jsx)("p",{children:"Image Link"})]}),Object(j.jsxs)("div",{className:"input-container",children:[Object(j.jsx)("div",{className:"giphy-container",onBlur:this.handleGIFBlur,children:i?Object(j.jsx)(z.a,{apiKey:"5qq9RvhQDJlcqQcoUxtFdcaK3OpqKPGE",onSelect:this.handleGIFSelect,wrapperClassName:"giphy-container",autoFocus:!0,rating:"r"}):null}),Object(j.jsx)("input",{type:"text",value:s,id:"input-media",className:"form-input user-selectable",onChange:this.handleInput.bind(this,"media")}),Object(j.jsx)("div",{id:"gif-toggle",onClick:this.handleGIFToggle,children:Object(j.jsx)("img",{src:i?H:U,alt:"GIF"})})]}),Object(j.jsxs)("label",{htmlFor:"input-message",children:[Object(j.jsx)("span",{children:"Message"}),Object(j.jsx)("span",{children:"*"})]}),Object(j.jsx)("textarea",{id:"input-message",value:a,maxLength:"160",className:"form-input user-selectable",onChange:this.handleInput.bind(this,"message")}),Object(j.jsx)("div",{className:"button-container no-select",children:Object(j.jsx)(L,{onClick:this.handleSubmit,infoFilled:n})})]})})}}]),a}(n.Component),q=Object(h.b)((function(e){return console.log(e),{avatar:e.avatar}}),(function(e){return{uploadMessageAction:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("messages").add(Object(s.a)({},e)).then((function(a){console.log(a.id),y.b.success("Message sent!"),t({type:"UPLOAD_MESSAGE",messagePayload:e})})).catch((function(e){t({type:"UPLOAD_MESSAGE_ERROR",err:e}),y.b.error("Couldn't send message! Retry like an hour later.")}))}}(t))}}}))(_),K=function(e){Object(P.a)(a,e);var t=Object(F.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"write-message-scaffold",children:[Object(j.jsx)(D,{}),Object(j.jsx)(q,{})]})}}]),a}(n.Component);a(405);var W=function(){return Object(j.jsxs)(r.a,{basename:"/",children:[Object(j.jsx)(y.a,{}),Object(j.jsx)(b,{}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",component:C}),Object(j.jsx)(l.a,{exact:!0,path:"/add",component:K})]})]})},J=a(95),Q={messageList:[{user:"Peter Parker",message:"This is a message",timestamp:"Sun May 11 2020"},{user:"Bruce Banner",message:"It do be like that sometimes",timestamp:"Sat April 22 2020"}]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_MESSAGE":console.log("uploaded message",t.messagePayload);break;case"UPLOAD_MESSAGE_ERROR":console.log("Upload Message Error",t.error)}return e},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPlaceholder:!0,hairColorRandom:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_AVATAR":return console.log("update avatar",Object(s.a)(Object(s.a)({},e),t.avatarStyle)),Object(s.a)(Object(s.a)({},e),t.avatarStyle)}return e},Z=Object(v.b)({messages:Y,avatar:X,firebase:x.firebaseReducer,firestore:J.firestoreReducer}),$=a(226),ee=a(96);a(438);ee.a.initializeApp({apiKey:"AIzaSyCh1bWSSV6sGFc81yxcQHyVGxiAizRYz48",authDomain:"neu-board.firebaseapp.com",projectId:"neu-board",storageBucket:"neu-board.appspot.com",messagingSenderId:"668588047379",appId:"1:668588047379:web:f76373774d58ce532353e6"}),ee.a.firestore().settings({timestampsInSnapshots:!0});var te=ee.a,ae=Object(v.d)(Z,Object(v.a)($.a.withExtraArgument({getFirebase:x.getFirebase}))),se={firebase:te,config:{},dispatch:ae.dispatch,createFirestoreInstance:J.createFirestoreInstance};o.a.render(Object(j.jsx)(h.a,{store:ae,children:Object(j.jsx)(x.ReactReduxFirebaseProvider,Object(s.a)(Object(s.a)({},se),{},{children:Object(j.jsx)(W,{})}))}),document.getElementById("root"))}},[[437,1,2]]]);
//# sourceMappingURL=main.19141c26.chunk.js.map